<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.monthly.mapper.BoardMapper">

    <select id="brandSelect" resultType="brandDto">
        SELECT *
        FROM MONTHLY_BRAND
        ORDER BY BRAND_NUMBER
    </select>

    <select id="productSelect" resultType="productDto">
        SELECT *
        FROM MONTHLY_PRODUCT
        ORDER BY PRODUCT_NUMBER
    </select>

    <select id="searchAll" resultType="productVo">
        SELECT P.PRODUCT_NUMBER, P.PRODUCT_NAME, B.BRAND_NAME, S.SELLER_NAME
        FROM MONTHLY_PRODUCT P
                 LEFT OUTER JOIN MONTHLY_BRAND B ON P.BRAND_NUMBER = B.BRAND_NUMBER
                 LEFT OUTER JOIN MONTHLY_SELLER S ON B.SELLER_NUMBER = S.SELLER_NUMBER
        WHERE (P.PRODUCT_NAME LIKE '%' || #{productName} || '%' OR B.BRAND_NAME LIKE '%' || #{brandName} || '%')
    </select>


</mapper>